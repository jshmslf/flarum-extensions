(()=>{var e={n:a=>{var t=a&&a.__esModule?()=>a.default:()=>a;return e.d(t,{a:t}),t},d:(a,t)=>{for(var r in t)e.o(t,r)&&!e.o(a,r)&&Object.defineProperty(a,r,{enumerable:!0,get:t[r]})},o:(e,a)=>Object.prototype.hasOwnProperty.call(e,a)};(()=>{"use strict";const a=flarum.core.compat["forum/app"];var t=e.n(a);const r=flarum.core.compat["common/extend"],n=flarum.core.compat["forum/components/IndexPage"];var o=e.n(n);const s=flarum.core.compat["common/helpers/icon"];var i=e.n(s);t().initializers.add("knowz/custom-ads",function(){var e=[],a=!1,n=!1,s=!0;(0,r.extend)(o().prototype,"view",function(r){if(n||a||(n=!0,t().request({method:"GET",url:t().forum.attribute("apiUrl")+"/custom-ads"}).then(function(t){e=t.data.map(function(e){return{title:e.attributes.title,description:e.attributes.description,image:e.attributes.imageUrl,url:e.attributes.url}}),a=!0,m.redraw()}).catch(function(e){console.error("Failed to load custom ads:",e),n=!1})),a&&0!==e.length){var o=r.children.findIndex(function(e){return e.attrs&&e.attrs.className&&e.attrs.className.includes("App-title")}),c=-1!==o?o+1:0,l=m("div",{className:"knowz-ads-container "+(s?"is-visible":"is-hidden")},m("button",{className:"knowz-ads-toggle",onclick:function(){s=!s,m.redraw()},title:s?"Hide ads":"Show ads"},m("span",null,s?"Hide ads":"Show ads"),i()(s?"fas fa-chevron-up":"fas fa-chevron-down")),m("div",{className:"knowz-ads-wrapper"},m("div",{className:"knowz-ads-content"},m("div",{className:"knowz-ads-grid"},e.map(function(e,a){return m("a",{key:a,href:e.url,className:"knowz-ad-card",target:"_blank",rel:"noopener noreferrer",style:{backgroundImage:"url("+e.image+")"}},m("div",{className:"knowz-ad-content"},m("h4",null,e.title),m("p",null,e.description)))})))));r.children.splice(c,0,l)}})})})(),module.exports={}})();
//# sourceMappingURL=forum.js.map